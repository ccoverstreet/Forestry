var He=Object.defineProperty;var Se=(t,e,n)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>(Se(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function z(){}function $e(t){return t()}function _e(){return Object.create(null)}function F(t){t.forEach($e)}function ie(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Le(t){return Object.keys(t).length===0}function s(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function Re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function E(){return I(" ")}function se(){return I("")}function S(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ze(t){return Array.from(t.childNodes)}function G(t,e){e=""+e,t.data!==e&&(t.data=e)}function pe(t,e){t.value=e??""}function k(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let K;function B(t){K=t}function Ae(){if(!K)throw new Error("Function called outside component initialization");return K}function Ee(t){Ae().$$.on_mount.push(t)}const W=[],X=[];let j=[];const ne=[],Ie=Promise.resolve();let re=!1;function Me(){re||(re=!0,Ie.then(Oe))}function oe(t){j.push(t)}function me(t){ne.push(t)}const te=new Set;let T=0;function Oe(){if(T!==0)return;const t=K;do{try{for(;T<W.length;){const e=W[T];T++,B(e),De(e.$$)}}catch(e){throw W.length=0,T=0,e}for(B(null),W.length=0,T=0;X.length;)X.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];te.has(n)||(te.add(n),n())}j.length=0}while(W.length);for(;ne.length;)ne.pop()();re=!1,te.clear(),B(t)}function De(t){if(t.fragment!==null){t.update(),F(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(oe)}}function Fe(t){const e=[],n=[];j.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),j=e}const Q=new Set;let D;function Te(){D={r:0,c:[],p:D}}function We(){D.r||F(D.c),D=D.p}function U(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(Q.has(t))return;Q.add(t),D.c.push(()=>{Q.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function he(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function we(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Ce(t){t&&t.c()}function ce(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),oe(()=>{const i=t.$$.on_mount.map($e).filter(ie);t.$$.on_destroy?t.$$.on_destroy.push(...i):F(i),t.$$.on_mount=[]}),o.forEach(oe)}function fe(t,e){const n=t.$$;n.fragment!==null&&(Fe(n.after_update),F(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function je(t,e){t.$$.dirty[0]===-1&&(W.push(t),Me(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,n,r,o,i,l=null,f=[-1]){const h=K;B(t);const c=t.$$={fragment:null,ctx:[],props:i,update:z,not_equal:o,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:_e(),dirty:f,skip_bound:!1,root:e.target||h.$$.root};l&&l(c.root);let p=!1;if(c.ctx=n?n(t,e.props||{},(u,_,...a)=>{const q=a.length?a[0]:_;return c.ctx&&o(c.ctx[u],c.ctx[u]=q)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](q),p&&je(t,u)),_}):[],c.update(),p=!0,F(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const u=ze(e.target);c.fragment&&c.fragment.l(u),u.forEach(O)}else c.fragment&&c.fragment.c();e.intro&&U(t.$$.fragment),ce(t,e.target,e.anchor),Oe()}B(h)}class de{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){fe(this,1),this.$destroy=z}$on(e,n){if(!ie(n))return z;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Le(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ge="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ge);function Be(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function ge(t,e=!1){const n=Be(),r=`_${n}`;return Object.defineProperty(window,r,{value:o=>(e&&Reflect.deleteProperty(window,r),t==null?void 0:t(o)),writable:!1,configurable:!0}),n}async function A(t,e={}){return new Promise((n,r)=>{const o=ge(l=>{n(l),Reflect.deleteProperty(window,`_${i}`)},!0),i=ge(l=>{r(l),Reflect.deleteProperty(window,`_${o}`)},!0);window.__TAURI_IPC__({cmd:t,callback:o,error:i,...e})})}function ke(t){let e,n,r,o,i,l=t[1].ssid+"",f,h,c,p,u,_,a,q,N,w=t[3]!=0&&be();return{c(){e=d("div"),n=d("div"),r=d("div"),o=I("Enter password for "),i=d("span"),f=I(l),h=E(),c=d("form"),p=d("input"),u=E(),_=d("button"),_.textContent="Connect",a=E(),w&&w.c(),k(i,"font-weight","bold"),b(n,"id","container"),b(n,"class","svelte-18gpg97"),b(e,"id","mask"),b(e,"class","svelte-18gpg97")},m(v,y){C(v,e,y),s(e,n),s(n,r),s(r,o),s(r,i),s(i,f),s(n,h),s(n,c),s(c,p),pe(p,t[2]),s(c,u),s(c,_),s(n,a),w&&w.m(n,null),q||(N=[S(p,"input",t[6]),S(c,"submit",t[4]),S(n,"click",Ue),S(e,"click",t[7])],q=!0)},p(v,y){y&2&&l!==(l=v[1].ssid+"")&&G(f,l),y&4&&p.value!==v[2]&&pe(p,v[2]),v[3]!=0?w||(w=be(),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},d(v){v&&O(e),w&&w.d(),q=!1,F(N)}}}function be(t){let e;return{c(){e=d("p"),e.textContent="Invalid credentials provided"},m(n,r){C(n,e,r)},d(n){n&&O(e)}}}function Ke(t){let e,n=!t[0]&&ke(t);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),C(r,e,o)},p(r,[o]){r[0]?n&&(n.d(1),n=null):n?n.p(r,o):(n=ke(r),n.c(),n.m(e.parentNode,e))},i:z,o:z,d(r){r&&O(e),n&&n.d(r)}}}const Ue=t=>{t.stopPropagation()};function Ve(t,e,n){let{hidden:r=!1}=e,{network:o={}}=e,{refreshHandler:i=()=>{}}=e,l="",f=0;async function h(u){if(u.preventDefault(),n(3,f=await A("connect_network_password",{network:o,password:l})),f==0){n(2,l=""),n(1,o={}),n(0,r=!0),i();return}}function c(){l=this.value,n(2,l)}const p=()=>{n(0,r=!0)};return t.$$set=u=>{"hidden"in u&&n(0,r=u.hidden),"network"in u&&n(1,o=u.network),"refreshHandler"in u&&n(5,i=u.refreshHandler)},[r,o,l,f,h,i,c,p]}class Je extends de{constructor(e){super(),ue(this,e,Ve,Ke,le,{hidden:0,network:1,refreshHandler:5})}}function ve(t,e,n){const r=t.slice();return r[10]=e[n],r}function Qe(t){let e,n,r;return{c(){e=d("button"),e.textContent="Enable",k(e,"background-color","var(--color-03)"),k(e,"color","var(--color-01)")},m(o,i){C(o,e,i),n||(r=S(e,"click",t[6]),n=!0)},p:z,d(o){o&&O(e),n=!1,r()}}}function Xe(t){let e,n,r;return{c(){e=d("button"),e.textContent="Disable",k(e,"background-color","var(--color-02)")},m(o,i){C(o,e,i),n||(r=S(e,"click",t[7]),n=!0)},p:z,d(o){o&&O(e),n=!1,r()}}}function Ye(t){let e,n=he(t[1]),r=[];for(let o=0;o<n.length;o+=1)r[o]=qe(ve(t,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=se()},m(o,i){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,i);C(o,e,i)},p(o,i){if(i&34){n=he(o[1]);let l;for(l=0;l<n.length;l+=1){const f=ve(o,n,l);r[l]?r[l].p(f,i):(r[l]=qe(f),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(o){o&&O(e),Re(r,o)}}}function Ze(t){let e;return{c(){e=d("p"),e.textContent="Retrieving network information..."},m(n,r){C(n,e,r)},p:z,d(n){n&&O(e)}}}function ye(t){let e,n,r=t[10].ssid+"",o,i,l,f,h,c=t[10].bssid+"",p,u,_,a,q;function N($,P){return $[10].chan>=1&&$[10].chan<=14?et:xe}let w=N(t),v=w(t);function y($,P){return $[10].signal>75?rt:$[10].signal>50?nt:tt}let H=y(t),m=H(t);return{c(){e=d("div"),n=d("p"),o=I(r),i=E(),v.c(),l=E(),m.c(),f=E(),h=d("p"),p=I(c),u=E(),b(n,"class","network-ssid svelte-1qwqa7d"),b(h,"class","network-bssid svelte-1qwqa7d"),b(e,"class",_="network-item "+(t[10].connected?"network-active":"")+" svelte-1qwqa7d")},m($,P){C($,e,P),s(e,n),s(n,o),s(e,i),v.m(e,null),s(e,l),m.m(e,null),s(e,f),s(e,h),s(h,p),s(e,u),a||(q=S(e,"click",function(){ie(t[5](t[10]))&&t[5](t[10]).apply(this,arguments)}),a=!0)},p($,P){t=$,P&2&&r!==(r=t[10].ssid+"")&&G(o,r),w!==(w=N(t))&&(v.d(1),v=w(t),v&&(v.c(),v.m(e,l))),H===(H=y(t))&&m?m.p(t,P):(m.d(1),m=H(t),m&&(m.c(),m.m(e,f))),P&2&&c!==(c=t[10].bssid+"")&&G(p,c),P&2&&_!==(_="network-item "+(t[10].connected?"network-active":"")+" svelte-1qwqa7d")&&b(e,"class",_)},d($){$&&O(e),v.d(),m.d(),a=!1,q()}}}function xe(t){let e;return{c(){e=d("p"),e.textContent="5.0Ghz",b(e,"class","network-chan svelte-1qwqa7d")},m(n,r){C(n,e,r)},d(n){n&&O(e)}}}function et(t){let e;return{c(){e=d("p"),e.textContent="2.4GHz",b(e,"class","network-chan svelte-1qwqa7d")},m(n,r){C(n,e,r)},d(n){n&&O(e)}}}function tt(t){let e,n=t[10].signal+"",r;return{c(){e=d("p"),r=I(n),b(e,"class","network-signal svelte-1qwqa7d"),k(e,"color","var(--color-02)")},m(o,i){C(o,e,i),s(e,r)},p(o,i){i&2&&n!==(n=o[10].signal+"")&&G(r,n)},d(o){o&&O(e)}}}function nt(t){let e,n=t[10].signal+"",r;return{c(){e=d("p"),r=I(n),b(e,"class","network-signal svelte-1qwqa7d"),k(e,"color","var(--color-04)")},m(o,i){C(o,e,i),s(e,r)},p(o,i){i&2&&n!==(n=o[10].signal+"")&&G(r,n)},d(o){o&&O(e)}}}function rt(t){let e,n=t[10].signal+"",r;return{c(){e=d("p"),r=I(n),b(e,"class","network-signal svelte-1qwqa7d"),k(e,"color","var(--color-03)")},m(o,i){C(o,e,i),s(e,r)},p(o,i){i&2&&n!==(n=o[10].signal+"")&&G(r,n)},d(o){o&&O(e)}}}function qe(t){let e,n=t[10].ssid!="--"&&ye(t);return{c(){n&&n.c(),e=se()},m(r,o){n&&n.m(r,o),C(r,e,o)},p(r,o){r[10].ssid!="--"?n?n.p(r,o):(n=ye(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&O(e),n&&n.d(r)}}}function ot(t){let e,n,r,o,i,l,f,h,c,p,u,_,a,q,N,w,v,y,H,m,$;function P(g,M){return g[0]?Xe:Qe}let V=P(t),L=V(t);function Pe(g){t[8](g)}function Ne(g){t[9](g)}let Z={refreshHandler:t[4]};t[2]!==void 0&&(Z.hidden=t[2]),t[3]!==void 0&&(Z.network=t[3]),p=new Je({props:Z}),X.push(()=>we(p,"hidden",Pe)),X.push(()=>we(p,"network",Ne));function ae(g,M){return g[1].length==0?Ze:Ye}let J=ae(t),R=J(t);return{c(){e=d("div"),n=d("div"),r=d("div"),r.innerHTML="<div>Wi-Fi</div>",o=E(),i=d("div"),l=E(),f=d("button"),f.textContent="Refresh",h=E(),L.c(),c=E(),Ce(p.$$.fragment),a=E(),q=d("hr"),N=E(),w=d("div"),w.innerHTML='<div class="network-item svelte-1qwqa7d"><p class="network-ssid svelte-1qwqa7d">SSID</p> <p class="network-chan svelte-1qwqa7d">Frequency</p> <p class="network-signal svelte-1qwqa7d">Signal</p> <p class="network-bssid svelte-1qwqa7d">BSSID</p></div>',v=E(),y=d("div"),R.c(),k(r,"display","flex"),k(r,"align-items","center"),k(r,"font-weight","bold"),k(r,"font-size","1.5rem"),k(i,"flex-grow","1"),k(f,"background-color","var(--color-08)"),k(f,"color","var(--color-01)"),b(n,"id","wifi-header"),b(n,"class","svelte-1qwqa7d"),b(y,"class","network-list"),b(e,"id","network-page"),b(e,"class","svelte-1qwqa7d")},m(g,M){C(g,e,M),s(e,n),s(n,r),s(n,o),s(n,i),s(n,l),s(n,f),s(n,h),L.m(n,null),s(e,c),ce(p,e,null),s(e,a),s(e,q),s(e,N),s(e,w),s(e,v),s(e,y),R.m(y,null),H=!0,m||($=S(f,"click",t[4]),m=!0)},p(g,[M]){V===(V=P(g))&&L?L.p(g,M):(L.d(1),L=V(g),L&&(L.c(),L.m(n,null)));const x={};!u&&M&4&&(u=!0,x.hidden=g[2],me(()=>u=!1)),!_&&M&8&&(_=!0,x.network=g[3],me(()=>_=!1)),p.$set(x),J===(J=ae(g))&&R?R.p(g,M):(R.d(1),R=J(g),R&&(R.c(),R.m(y,null)))},i(g){H||(U(p.$$.fragment,g),H=!0)},o(g){Y(p.$$.fragment,g),H=!1},d(g){g&&O(e),L.d(),fe(p),R.d(),m=!1,$()}}}function it(t,e,n){let r=!1,o=[],i=!0,l={};async function f(){if(console.log("Getting networks..."),n(0,r=await A("is_wifi_on",{})),!r){n(1,o=[]);return}n(1,o=[]),n(1,o=await A("get_networks",{}))}async function h(a){const q=a.ssid;await A("is_existing_connection",{ssid:q})?(await A("connect_network",{network:a}),f()):(console.log("NEED TO PROVIDE PASSWORD"),n(2,i=!1),n(3,l=a))}async function c(){await A("enable_wifi",{}),f()}async function p(){await A("disable_wifi",{}),f()}Ee(()=>{f()});function u(a){i=a,n(2,i)}function _(a){l=a,n(3,l)}return[r,o,i,l,f,h,c,p,u,_]}class lt extends de{constructor(e){super(),ue(this,e,it,ot,le,{})}}function st(t){let e,n;return e=new lt({}),{c(){Ce(e.$$.fragment)},m(r,o){ce(e,r,o),n=!0},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){Y(e.$$.fragment,r),n=!1},d(r){fe(e,r)}}}function ct(t){let e;return{c(){e=d("div"),e.innerHTML=`<div style="font-size: 3rem; font-weight: bold;">Welcome to Forestry</div> <div style="font-size: 2rem; padding: 2rem; line-height: 3rem;">Forestry is a general settings manager for Linux targeting users who do no use complete desktop environments such as KDE or Gnome. 
					<br/> <br/>
  	  				Forestry uses the same color scheming convention as terminal color schemes (see Gogh on GitHub), which makes it easy to match the theme of Forestry to your terminal configuration.</div>`,k(e,"display","flex"),k(e,"justify-content","center"),k(e,"align-items","center"),k(e,"height","100%"),k(e,"flex-direction","column")},m(n,r){C(n,e,r)},i:z,o:z,d(n){n&&O(e)}}}function ft(t){let e,n,r,o,i,l,f,h,c,p,u,_,a,q,N,w;const v=[ct,st],y=[];function H(m,$){return m[0]=="HOME"?0:m[0]=="NETWORK"?1:-1}return~(_=H(t))&&(a=y[_]=v[_](t)),{c(){e=d("main"),n=d("div"),r=d("h1"),r.textContent="Forestry",o=E(),i=d("button"),i.textContent="HOME",l=E(),f=d("button"),f.textContent="Network",h=E(),c=d("button"),c.textContent="Debug",p=E(),u=d("div"),a&&a.c(),k(r,"padding","1rem"),k(r,"border-bottom","1px solid var(--color-08)"),k(r,"margin","0"),k(r,"padding","2rem 1rem"),b(i,"class","page-button svelte-1axezkc"),b(f,"class","page-button svelte-1axezkc"),b(c,"class","page-button svelte-1axezkc"),b(n,"id","navpanel"),b(n,"class","svelte-1axezkc"),k(u,"flex-grow","1"),b(e,"class","container svelte-1axezkc")},m(m,$){C(m,e,$),s(e,n),s(n,r),s(n,o),s(n,i),s(n,l),s(n,f),s(n,h),s(n,c),s(e,p),s(e,u),~_&&y[_].m(u,null),q=!0,N||(w=[S(i,"click",t[1]),S(f,"click",t[2]),S(c,"click",t[3])],N=!0)},p(m,[$]){let P=_;_=H(m),_!==P&&(a&&(Te(),Y(y[P],1,1,()=>{y[P]=null}),We()),~_?(a=y[_],a||(a=y[_]=v[_](m),a.c()),U(a,1),a.m(u,null)):a=null)},i(m){q||(U(a),q=!0)},o(m){Y(a),q=!1},d(m){m&&O(e),~_&&y[_].d(),N=!1,F(w)}}}function ut(t,e,n){Ee(async()=>{const f=await A("default_colors",{});for(const[h,c]of Object.entries(f))console.log(h.replace("_","-"),c),document.documentElement.style.setProperty("--"+h.replace("_","-"),c);console.log(f)});let r="HOME";return[r,()=>{n(0,r="HOME")},()=>{n(0,r="NETWORK")},async()=>{console.log(await A("get_networks",{}))}]}class dt extends de{constructor(e){super(),ue(this,e,ut,ft,le,{})}}new dt({target:document.getElementById("app")});
