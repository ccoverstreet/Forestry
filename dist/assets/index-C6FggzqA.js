var Re=Object.defineProperty;var xe=(n,e,t)=>e in n?Re(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>(xe(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function B(){}function Be(n){return n()}function we(){return Object.create(null)}function I(n){n.forEach(Be)}function Q(n){return typeof n=="function"}function Z(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ie(n){return Object.keys(n).length===0}function We(n){return n&&Q(n.destroy)?n.destroy:B}function s(n,e){n.appendChild(e)}function N(n,e,t){n.insertBefore(e,t||null)}function O(n){n.parentNode&&n.parentNode.removeChild(n)}function ge(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function m(n){return document.createElement(n)}function le(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function H(n){return document.createTextNode(n)}function C(){return H(" ")}function me(){return H("")}function L(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function u(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Fe(n){return Array.from(n.childNodes)}function x(n,e){e=""+e,n.data!==e&&(n.data=e)}function ye(n,e){n.value=e??""}function z(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}let J;function q(n){J=n}function je(){if(!J)throw new Error("Function called outside component initialization");return J}function se(n){je().$$.on_mount.push(n)}const K=[],X=[];let U=[];const pe=[],Ge=Promise.resolve();let _e=!1;function Ke(){_e||(_e=!0,Ge.then(He))}function he(n){U.push(n)}function be(n){pe.push(n)}const de=new Set;let G=0;function He(){if(G!==0)return;const n=J;do{try{for(;G<K.length;){const e=K[G];G++,q(e),Ue(e.$$)}}catch(e){throw K.length=0,G=0,e}for(q(null),K.length=0,G=0;X.length;)X.pop()();for(let e=0;e<U.length;e+=1){const t=U[e];de.has(t)||(de.add(t),t())}U.length=0}while(K.length);for(;pe.length;)pe.pop()();_e=!1,de.clear(),q(n)}function Ue(n){if(n.fragment!==null){n.update(),I(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(he)}}function Ve(n){const e=[],t=[];U.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),U=e}const oe=new Set;let F;function Ye(){F={r:0,c:[],p:F}}function qe(){F.r||I(F.c),F=F.p}function j(n,e){n&&n.i&&(oe.delete(n),n.i(e))}function V(n,e,t,i){if(n&&n.o){if(oe.has(n))return;oe.add(n),F.c.push(()=>{oe.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function Y(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ke(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function ce(n){n&&n.c()}function ee(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),he(()=>{const l=n.$$.on_mount.map(Be).filter(Q);n.$$.on_destroy?n.$$.on_destroy.push(...l):I(l),n.$$.on_mount=[]}),r.forEach(he)}function te(n,e){const t=n.$$;t.fragment!==null&&(Ve(t.after_update),I(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Je(n,e){n.$$.dirty[0]===-1&&(K.push(n),Ke(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ne(n,e,t,i,r,l,o=null,h=[-1]){const v=J;q(n);const p=n.$$={fragment:null,ctx:[],props:l,update:B,not_equal:r,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:we(),dirty:h,skip_bound:!1,root:e.target||v.$$.root};o&&o(p.root);let k=!1;if(p.ctx=t?t(n,e.props||{},(a,$,...d)=>{const b=d.length?d[0]:$;return p.ctx&&r(p.ctx[a],p.ctx[a]=b)&&(!p.skip_bound&&p.bound[a]&&p.bound[a](b),k&&Je(n,a)),$}):[],p.update(),k=!0,I(p.before_update),p.fragment=i?i(p.ctx):!1,e.target){if(e.hydrate){const a=Fe(e.target);p.fragment&&p.fragment.l(a),a.forEach(O)}else p.fragment&&p.fragment.c();e.intro&&j(n.$$.fragment),ee(n,e.target,e.anchor),He()}q(v)}class ie{constructor(){ae(this,"$$");ae(this,"$$set")}$destroy(){te(this,1),this.$destroy=B}$on(e,t){if(!Q(t))return B;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Xe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xe);function Qe(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function $e(n,e=!1){const t=Qe(),i=`_${t}`;return Object.defineProperty(window,i,{value:r=>(e&&Reflect.deleteProperty(window,i),n==null?void 0:n(r)),writable:!1,configurable:!0}),t}async function M(n,e={}){return new Promise((t,i)=>{const r=$e(o=>{t(o),Reflect.deleteProperty(window,`_${l}`)},!0),l=$e(o=>{i(o),Reflect.deleteProperty(window,`_${r}`)},!0);window.__TAURI_IPC__({cmd:n,callback:r,error:l,...e})})}function Pe(n){let e,t,i,r,l,o=n[1].ssid+"",h,v,p,k,a,$,d,b,y,E=n[3]!=0&&Ee();return{c(){e=m("div"),t=m("div"),i=m("div"),r=H("Enter password for "),l=m("span"),h=H(o),v=C(),p=m("form"),k=m("input"),a=C(),$=m("button"),$.textContent="Connect",d=C(),E&&E.c(),z(l,"font-weight","bold"),u(t,"id","prompt-container"),u(t,"class","svelte-3897ka"),u(e,"id","mask"),u(e,"class","svelte-3897ka")},m(f,w){N(f,e,w),s(e,t),s(t,i),s(i,r),s(i,l),s(l,h),s(t,v),s(t,p),s(p,k),ye(k,n[2]),s(p,a),s(p,$),s(t,d),E&&E.m(t,null),b||(y=[L(k,"input",n[6]),L(p,"submit",n[4]),L(t,"click",et),L(e,"click",n[7])],b=!0)},p(f,w){w&2&&o!==(o=f[1].ssid+"")&&x(h,o),w&4&&k.value!==f[2]&&ye(k,f[2]),f[3]!=0?E||(E=Ee(),E.c(),E.m(t,null)):E&&(E.d(1),E=null)},d(f){f&&O(e),E&&E.d(),b=!1,I(y)}}}function Ee(n){let e;return{c(){e=m("p"),e.textContent="Invalid credentials provided"},m(t,i){N(t,e,i)},d(t){t&&O(e)}}}function Ze(n){let e,t=!n[0]&&Pe(n);return{c(){t&&t.c(),e=me()},m(i,r){t&&t.m(i,r),N(i,e,r)},p(i,[r]){i[0]?t&&(t.d(1),t=null):t?t.p(i,r):(t=Pe(i),t.c(),t.m(e.parentNode,e))},i:B,o:B,d(i){i&&O(e),t&&t.d(i)}}}const et=n=>{n.stopPropagation()};function tt(n,e,t){let{hidden:i=!1}=e,{network:r={}}=e,{refreshHandler:l=()=>{}}=e,o="",h=0;async function v(a){if(a.preventDefault(),t(3,h=await M("connect_network_password",{network:r,password:o})),h==0){t(2,o=""),t(1,r={}),t(0,i=!0),l();return}}function p(){o=this.value,t(2,o)}const k=()=>{t(0,i=!0)};return n.$$set=a=>{"hidden"in a&&t(0,i=a.hidden),"network"in a&&t(1,r=a.network),"refreshHandler"in a&&t(5,l=a.refreshHandler)},[i,r,o,h,v,l,p,k]}class nt extends ie{constructor(e){super(),ne(this,e,tt,Ze,Z,{hidden:0,network:1,refreshHandler:5})}}function ze(n,e,t){const i=n.slice();return i[10]=e[t],i}function it(n){let e,t,i;return{c(){e=m("button"),e.textContent="Enable",z(e,"background-color","var(--color-03)"),z(e,"color","var(--color-01)")},m(r,l){N(r,e,l),t||(i=L(e,"click",n[6]),t=!0)},p:B,d(r){r&&O(e),t=!1,i()}}}function rt(n){let e,t,i;return{c(){e=m("button"),e.textContent="Disable",z(e,"background-color","var(--color-02)")},m(r,l){N(r,e,l),t||(i=L(e,"click",n[7]),t=!0)},p:B,d(r){r&&O(e),t=!1,i()}}}function lt(n){let e,t=Y(n[1]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Ae(ze(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=me()},m(r,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,l);N(r,e,l)},p(r,l){if(l&34){t=Y(r[1]);let o;for(o=0;o<t.length;o+=1){const h=ze(r,t,o);i[o]?i[o].p(h,l):(i[o]=Ae(h),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(r){r&&O(e),ge(i,r)}}}function ot(n){let e;return{c(){e=m("p"),e.textContent="Retrieving network information..."},m(t,i){N(t,e,i)},p:B,d(t){t&&O(e)}}}function Ce(n){let e,t,i=n[10].ssid+"",r,l,o,h,v,p=n[10].bssid+"",k,a,$,d,b;function y(P,c){return P[10].chan>=1&&P[10].chan<=14?ct:st}let E=y(n),f=E(n);function w(P,c){return P[10].signal>75?at:P[10].signal>50?ut:ft}let g=w(n),_=g(n);return{c(){e=m("div"),t=m("p"),r=H(i),l=C(),f.c(),o=C(),_.c(),h=C(),v=m("p"),k=H(p),a=C(),u(t,"class","network-ssid svelte-rztu5"),u(v,"class","network-bssid svelte-rztu5"),u(e,"class",$="network-item "+(n[10].connected?"network-active":"")+" svelte-rztu5")},m(P,c){N(P,e,c),s(e,t),s(t,r),s(e,l),f.m(e,null),s(e,o),_.m(e,null),s(e,h),s(e,v),s(v,k),s(e,a),d||(b=L(e,"click",function(){Q(n[5](n[10]))&&n[5](n[10]).apply(this,arguments)}),d=!0)},p(P,c){n=P,c&2&&i!==(i=n[10].ssid+"")&&x(r,i),E!==(E=y(n))&&(f.d(1),f=E(n),f&&(f.c(),f.m(e,o))),g===(g=w(n))&&_?_.p(n,c):(_.d(1),_=g(n),_&&(_.c(),_.m(e,h))),c&2&&p!==(p=n[10].bssid+"")&&x(k,p),c&2&&$!==($="network-item "+(n[10].connected?"network-active":"")+" svelte-rztu5")&&u(e,"class",$)},d(P){P&&O(e),f.d(),_.d(),d=!1,b()}}}function st(n){let e;return{c(){e=m("p"),e.textContent="5.0Ghz",u(e,"class","network-chan svelte-rztu5")},m(t,i){N(t,e,i)},d(t){t&&O(e)}}}function ct(n){let e;return{c(){e=m("p"),e.textContent="2.4GHz",u(e,"class","network-chan svelte-rztu5")},m(t,i){N(t,e,i)},d(t){t&&O(e)}}}function ft(n){let e,t=n[10].signal+"",i;return{c(){e=m("p"),i=H(t),u(e,"class","network-signal svelte-rztu5"),z(e,"color","var(--color-02)")},m(r,l){N(r,e,l),s(e,i)},p(r,l){l&2&&t!==(t=r[10].signal+"")&&x(i,t)},d(r){r&&O(e)}}}function ut(n){let e,t=n[10].signal+"",i;return{c(){e=m("p"),i=H(t),u(e,"class","network-signal svelte-rztu5"),z(e,"color","var(--color-04)")},m(r,l){N(r,e,l),s(e,i)},p(r,l){l&2&&t!==(t=r[10].signal+"")&&x(i,t)},d(r){r&&O(e)}}}function at(n){let e,t=n[10].signal+"",i;return{c(){e=m("p"),i=H(t),u(e,"class","network-signal svelte-rztu5"),z(e,"color","var(--color-03)")},m(r,l){N(r,e,l),s(e,i)},p(r,l){l&2&&t!==(t=r[10].signal+"")&&x(i,t)},d(r){r&&O(e)}}}function Ae(n){let e,t=n[10].ssid!="--"&&Ce(n);return{c(){t&&t.c(),e=me()},m(i,r){t&&t.m(i,r),N(i,e,r)},p(i,r){i[10].ssid!="--"?t?t.p(i,r):(t=Ce(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&O(e),t&&t.d(i)}}}function dt(n){let e,t,i,r,l,o,h,v,p,k,a,$,d,b,y,E,f,w,g,_,P,c;function S(A,W){return A[0]?rt:it}let D=S(n),T=D(n);function Me(A){n[8](A)}function Te(A){n[9](A)}let fe={refreshHandler:n[4]};n[2]!==void 0&&(fe.hidden=n[2]),n[3]!==void 0&&(fe.network=n[3]),a=new nt({props:fe}),X.push(()=>ke(a,"hidden",Me)),X.push(()=>ke(a,"network",Te));function ve(A,W){return A[1].length==0?ot:lt}let re=ve(n),R=re(n);return{c(){e=m("div"),t=m("div"),i=m("div"),r=m("div"),r.innerHTML="<div>Wi-Fi</div>",l=C(),o=m("div"),h=C(),v=m("button"),v.textContent="Refresh",p=C(),T.c(),k=C(),ce(a.$$.fragment),b=C(),y=m("hr"),E=C(),f=m("div"),f.innerHTML='<div class="network-item svelte-rztu5"><p class="network-ssid svelte-rztu5">SSID</p> <p class="network-chan svelte-rztu5">Frequency</p> <p class="network-signal svelte-rztu5">Signal</p> <p class="network-bssid svelte-rztu5">BSSID</p></div>',w=C(),g=m("div"),R.c(),z(r,"display","flex"),z(r,"align-items","center"),z(r,"font-weight","bold"),z(r,"font-size","1.5rem"),z(o,"flex-grow","1"),z(v,"background-color","var(--color-08)"),z(v,"color","var(--color-01)"),u(i,"id","wifi-header"),u(i,"class","svelte-rztu5"),u(g,"class","network-list"),u(t,"class","setting-page-content"),u(e,"id","network-page"),u(e,"class","setting-page")},m(A,W){N(A,e,W),s(e,t),s(t,i),s(i,r),s(i,l),s(i,o),s(i,h),s(i,v),s(i,p),T.m(i,null),s(t,k),ee(a,t,null),s(t,b),s(t,y),s(t,E),s(t,f),s(t,w),s(t,g),R.m(g,null),_=!0,P||(c=L(v,"click",n[4]),P=!0)},p(A,[W]){D===(D=S(A))&&T?T.p(A,W):(T.d(1),T=D(A),T&&(T.c(),T.m(i,null)));const ue={};!$&&W&4&&($=!0,ue.hidden=A[2],be(()=>$=!1)),!d&&W&8&&(d=!0,ue.network=A[3],be(()=>d=!1)),a.$set(ue),re===(re=ve(A))&&R?R.p(A,W):(R.d(1),R=re(A),R&&(R.c(),R.m(g,null)))},i(A){_||(j(a.$$.fragment,A),_=!0)},o(A){V(a.$$.fragment,A),_=!1},d(A){A&&O(e),T.d(),te(a),R.d(),P=!1,c()}}}function pt(n,e,t){let i=!1,r=[],l=!0,o={};async function h(){if(console.log("Getting networks..."),t(0,i=await M("is_wifi_on",{})),!i){t(1,r=[]);return}t(1,r=[]),t(1,r=await M("get_networks",{}))}async function v(d){const b=d.ssid;await M("is_existing_connection",{ssid:b})?(await M("connect_network",{network:d}),h()):(console.log("NEED TO PROVIDE PASSWORD"),t(2,l=!1),t(3,o=d))}async function p(){await M("enable_wifi",{}),h()}async function k(){await M("disable_wifi",{}),h()}se(()=>{h()});function a(d){l=d,t(2,l)}function $(d){o=d,t(3,o)}return[i,r,l,o,h,v,p,k,a,$]}class _t extends ie{constructor(e){super(),ne(this,e,pt,dt,Z,{})}}function Oe(n,e,t){const i=n.slice();return i[3]=e[t],i}function Ne(n){let e,t,i=n[3].name+"",r,l,o,h=n[3].driver+"",v,p,k,a,$;return{c(){e=m("div"),t=m("div"),r=H(i),l=C(),o=m("div"),v=H(h),p=C(),u(t,"class","power-profile-name svelte-114syvo"),u(o,"class","power-profile-driver svelte-114syvo"),u(e,"class",k="power-profile "+(n[3].is_active?"power-profile-active":"h")+" svelte-114syvo")},m(d,b){N(d,e,b),s(e,t),s(t,r),s(e,l),s(e,o),s(o,v),s(e,p),a||($=L(e,"click",function(){Q(n[1](n[3]))&&n[1](n[3]).apply(this,arguments)}),a=!0)},p(d,b){n=d,b&1&&i!==(i=n[3].name+"")&&x(r,i),b&1&&h!==(h=n[3].driver+"")&&x(v,h),b&1&&k!==(k="power-profile "+(n[3].is_active?"power-profile-active":"h")+" svelte-114syvo")&&u(e,"class",k)},d(d){d&&O(e),a=!1,$()}}}function ht(n){let e,t,i,r,l,o,h,v,p,k,a=Y(n[0]),$=[];for(let d=0;d<a.length;d+=1)$[d]=Ne(Oe(n,a,d));return{c(){e=m("div"),t=m("div"),i=m("div"),i.innerHTML="<div>Power Profile</div>",r=C(),l=m("hr"),o=C(),h=m("div"),h.innerHTML='<div class="power-profile-name svelte-114syvo">Profile Name</div> <div class="power-profile-driver svelte-114syvo">Driver</div>',v=C(),p=m("hr"),k=C();for(let d=0;d<$.length;d+=1)$[d].c();z(i,"display","flex"),z(i,"align-items","center"),z(i,"font-weight","bold"),z(i,"font-size","1.5rem"),u(h,"class","power-profile svelte-114syvo"),u(t,"id","container"),u(t,"class","setting-page-content svelte-114syvo"),u(e,"class","setting-page")},m(d,b){N(d,e,b),s(e,t),s(t,i),s(t,r),s(t,l),s(t,o),s(t,h),s(t,v),s(t,p),s(t,k);for(let y=0;y<$.length;y+=1)$[y]&&$[y].m(t,null)},p(d,[b]){if(b&3){a=Y(d[0]);let y;for(y=0;y<a.length;y+=1){const E=Oe(d,a,y);$[y]?$[y].p(E,b):($[y]=Ne(E),$[y].c(),$[y].m(t,null))}for(;y<$.length;y+=1)$[y].d(1);$.length=a.length}},i:B,o:B,d(d){d&&O(e),ge($,d)}}}function gt(n,e,t){let i=[];async function r(){t(0,i=await M("get_power_profiles",{})),console.log(i)}async function l(o){await M("set_power_profile",{profile:o}),r()}return se(()=>{r()}),[i,l]}class mt extends ie{constructor(e){super(),ne(this,e,gt,ht,Z,{})}}function De(n,e,t){const i=n.slice();return i[15]=e[t],i[17]=t,i}function Se(n){let e,t,i,r,l,o,h,v,p,k,a=n[15].display_name+"",$,d,b,y,E;function f(){return n[6](n[17])}return{c(){e=le("g"),t=le("rect"),k=le("text"),$=H(a),u(t,"x",i=n[15].x),u(t,"y",r=n[15].y),u(t,"width",l=n[15].sizes[n[15].selected_size].width),u(t,"height",o=n[15].sizes[n[15].selected_size].height),u(t,"fill",h=n[15].is_primary?"var(--color-07)":"var(--color-08)"),u(t,"stroke","black"),u(t,"stroke-width","10"),u(t,"data-name",v=n[15].display_name),u(t,"data-isprimary",p=n[15].is_primary),u(k,"x",d=n[15].x+50),u(k,"y",b=n[15].y+200),u(k,"font-size","200px"),z(e,"cursor","move"),z(e,"pointer-events","bounding-box"),u(e,"data-index",n[17])},m(w,g){N(w,e,g),s(e,t),s(e,k),s(k,$),y||(E=[L(t,"click",f),We(n[4].call(null,e,n[4]))],y=!0)},p(w,g){n=w,g&1&&i!==(i=n[15].x)&&u(t,"x",i),g&1&&r!==(r=n[15].y)&&u(t,"y",r),g&1&&l!==(l=n[15].sizes[n[15].selected_size].width)&&u(t,"width",l),g&1&&o!==(o=n[15].sizes[n[15].selected_size].height)&&u(t,"height",o),g&1&&h!==(h=n[15].is_primary?"var(--color-07)":"var(--color-08)")&&u(t,"fill",h),g&1&&v!==(v=n[15].display_name)&&u(t,"data-name",v),g&1&&p!==(p=n[15].is_primary)&&u(t,"data-isprimary",p),g&1&&a!==(a=n[15].display_name+"")&&x($,a),g&1&&d!==(d=n[15].x+50)&&u(k,"x",d),g&1&&b!==(b=n[15].y+200)&&u(k,"y",b)},d(w){w&&O(e),y=!1,I(E)}}}function Le(n){let e,t=JSON.stringify(n[0][n[1]])+"",i;return{c(){e=m("div"),i=H(t)},m(r,l){N(r,e,l),s(e,i)},p(r,l){l&3&&t!==(t=JSON.stringify(r[0][r[1]])+"")&&x(i,t)},d(r){r&&O(e)}}}function vt(n){let e,t,i,r,l,o,h,v,p,k,a,$,d,b,y,E,f=Y(n[0]),w=[];for(let _=0;_<f.length;_+=1)w[_]=Se(De(n,f,_));let g=n[1]!=null&&Le(n);return{c(){e=m("div"),t=m("div"),i=m("div"),r=le("svg");for(let _=0;_<w.length;_+=1)w[_].c();l=C(),o=m("div"),h=m("div"),v=C(),p=m("button"),p.textContent="TEST",k=C(),a=m("button"),a.textContent="Apply",$=C(),d=m("button"),d.textContent="Save",b=C(),g&&g.c(),u(r,"id","svg-window"),u(r,"viewBox","-2000 -2000 6000 6000"),z(r,"width","100%"),z(r,"height","100%"),u(r,"class","svelte-vptc9l"),u(i,"id","svg-container"),u(i,"class","svelte-vptc9l"),z(h,"flex-grow","1"),u(o,"id","controls"),z(o,"display","flex"),u(o,"class","svelte-vptc9l"),z(t,"max-width","100ch"),u(t,"class","setting-page-content"),u(e,"class","setting-page")},m(_,P){N(_,e,P),s(e,t),s(t,i),s(i,r);for(let c=0;c<w.length;c+=1)w[c]&&w[c].m(r,null);n[7](r),s(t,l),s(t,o),s(o,h),s(o,v),s(o,p),s(o,k),s(o,a),s(o,$),s(o,d),s(t,b),g&&g.m(t,null),y||(E=[L(p,"click",n[3]),L(a,"click",n[5]),L(d,"click",wt)],y=!0)},p(_,[P]){if(P&19){f=Y(_[0]);let c;for(c=0;c<f.length;c+=1){const S=De(_,f,c);w[c]?w[c].p(S,P):(w[c]=Se(S),w[c].c(),w[c].m(r,null))}for(;c<w.length;c+=1)w[c].d(1);w.length=f.length}_[1]!=null?g?g.p(_,P):(g=Le(_),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},i:B,o:B,d(_){_&&O(e),ge(w,_),n[7](null),g&&g.d(),y=!1,I(E)}}}function wt(){console.log("TODO")}function yt(n,e,t){let i=[],r=null;const l=f=>new Promise(w=>setTimeout(w,f));async function o(){const f=await M("get_display_configuration",{});console.log(f),t(0,i=[]),t(0,i=f);for(const[w,g]of Object.entries(f))g.is_primary}let h,v=null;function p(f){console.log(f),f.addEventListener("mousedown",a),f.addEventListener("mousemove",$),f.addEventListener("mouseup",d),f.addEventListener("mouseleave",d)}function k(f){var w=h.getScreenCTM();return{x:(f.clientX-w.e)/w.a,y:(f.clientY-w.f)/w.d}}function a(f){i[f.target.parentNode.dataset.index].is_primary||(console.log(f),v=f.target.parentNode)}function $(f){if(!v)return;const w=k(f),g=v.children[0].getBBox(),_=w.x-g.width/2,P=w.y-g.height/2;v.children[0].setAttribute("x",_),v.children[0].setAttribute("y",P+0),v.children[1].setAttribute("x",_+50),v.children[1].setAttribute("y",P+200)}function d(f){console.log("stopDrag handler");let w=null;for(const g of h.children){const _=g.children[0];if(_.dataset.isprimary){w=_;break}}for(const g of h.children){const _=g.children[0],P=g.children[1];if(_.dataset.isprimary==="true")continue;const c=w.getBBox(),S=_.getBBox();console.log(_.getBBox(),w.getBBox());const D={x:S.width/2+S.x,y:S.height/2+S.y,width:S.width,height:S.height};D.x<c.x?(_.setAttribute("x",c.x-D.width),P.setAttribute("x",c.x-D.width+50)):D.x>=c.x&&S.x<c.x+c.width?(_.setAttribute("x",c.x),P.setAttribute("x",c.x+50)):D.x>=c.x+c.width&&(_.setAttribute("x",c.x+c.width),P.setAttribute("x",c.x+D.width+50)),D.y<c.y?(_.setAttribute("y",c.y-D.height),P.setAttribute("y",c.y-D.height+200)):D.y>=c.y&&S.y<c.y+c.height?(_.setAttribute("y",c.y),P.setAttribute("y",c.y+200)):D.y>=c.y+c.height&&(_.setAttribute("y",c.y+c.height),P.setAttribute("y",c.y+c.height+200))}v=null}async function b(){const f=[];for(const w of h.children){const g=w.children[0],_=g.dataset.name,P=g.getBBox();console.log(g.getBBox(),g.dataset.name),f.push({name:_,x:Math.round(P.x),y:Math.round(P.y),width:P.width,height:P.height})}console.log(f),await M("set_display_configuration",{config:{screens:f}}),await l(500),o()}se(()=>{o()});const y=f=>{t(1,r=f),console.log(f)};function E(f){X[f?"unshift":"push"](()=>{h=f,t(2,h)})}return[i,r,h,o,p,b,y,E]}class bt extends ie{constructor(e){super(),ne(this,e,yt,vt,Z,{})}}function kt(n){let e,t;return e=new bt({}),{c(){ce(e.$$.fragment)},m(i,r){ee(e,i,r),t=!0},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){te(e,i)}}}function $t(n){let e,t;return e=new mt({}),{c(){ce(e.$$.fragment)},m(i,r){ee(e,i,r),t=!0},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){te(e,i)}}}function Pt(n){let e,t;return e=new _t({}),{c(){ce(e.$$.fragment)},m(i,r){ee(e,i,r),t=!0},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){te(e,i)}}}function Et(n){let e;return{c(){e=m("div"),e.innerHTML=`<div style="font-size: 3rem; font-weight: bold;">Welcome to Forestry</div> <div style="font-size: 2rem; padding: 2rem; line-height: 3rem;">Forestry is a general settings manager for Linux targeting users who do no use complete desktop environments such as KDE or Gnome. 
					<br/> <br/>
  	  				Forestry uses the same color scheming convention as terminal color schemes (see Gogh on GitHub), which makes it easy to match the theme of Forestry to your terminal configuration.</div>`,z(e,"display","flex"),z(e,"justify-content","center"),z(e,"align-items","center"),z(e,"height","100%"),z(e,"flex-direction","column")},m(t,i){N(t,e,i)},i:B,o:B,d(t){t&&O(e)}}}function zt(n){let e,t,i,r,l,o,h,v,p,k,a,$,d,b,y,E,f,w;const g=[Et,Pt,$t,kt],_=[];function P(c,S){return c[0]=="HOME"?0:c[0]=="NETWORK"?1:c[0]=="POWER"?2:c[0]=="DISPLAY"?3:-1}return~(b=P(n))&&(y=_[b]=g[b](n)),{c(){e=m("main"),t=m("div"),i=m("h1"),i.textContent="Forestry",r=C(),l=m("button"),l.textContent="Home",o=C(),h=m("button"),h.textContent="Network",v=C(),p=m("button"),p.textContent="Power",k=C(),a=m("button"),a.textContent="Display",$=C(),d=m("div"),y&&y.c(),z(i,"padding","1rem"),z(i,"border-bottom","1px solid var(--color-08)"),z(i,"margin","0"),z(i,"padding","2rem 1rem"),z(i,"background-color","var(--color-01)"),u(l,"class","page-button svelte-1wdwhcr"),u(h,"class","page-button svelte-1wdwhcr"),u(p,"class","page-button svelte-1wdwhcr"),u(a,"class","page-button svelte-1wdwhcr"),u(t,"id","navpanel"),u(t,"class","svelte-1wdwhcr"),z(d,"flex-grow","1"),u(e,"class","container svelte-1wdwhcr")},m(c,S){N(c,e,S),s(e,t),s(t,i),s(t,r),s(t,l),s(t,o),s(t,h),s(t,v),s(t,p),s(t,k),s(t,a),s(e,$),s(e,d),~b&&_[b].m(d,null),E=!0,f||(w=[L(l,"click",n[1]),L(h,"click",n[2]),L(p,"click",n[3]),L(a,"click",n[4])],f=!0)},p(c,[S]){let D=b;b=P(c),b!==D&&(y&&(Ye(),V(_[D],1,1,()=>{_[D]=null}),qe()),~b?(y=_[b],y||(y=_[b]=g[b](c),y.c()),j(y,1),y.m(d,null)):y=null)},i(c){E||(j(y),E=!0)},o(c){V(y),E=!1},d(c){c&&O(e),~b&&_[b].d(),f=!1,I(w)}}}function Ct(n,e,t){se(async()=>{const v=await M("default_colors",{});for(const[p,k]of Object.entries(v))console.log(p.replace("_","-"),k),document.documentElement.style.setProperty("--"+p.replace("_","-"),k);console.log(v)});let i="HOME";return[i,()=>{t(0,i="HOME")},()=>{t(0,i="NETWORK")},()=>{t(0,i="POWER")},()=>{t(0,i="DISPLAY")}]}class At extends ie{constructor(e){super(),ne(this,e,Ct,zt,Z,{})}}new At({target:document.getElementById("app")});
