var Te=Object.defineProperty;var Re=(t,e,n)=>e in t?Te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ue=(t,e,n)=>(Re(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function H(){}function Be(t){return t()}function we(){return Object.create(null)}function x(t){t.forEach(Be)}function X(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function xe(t){return Object.keys(t).length===0}function Ie(t){return t&&X(t.destroy)?t.destroy:H}function s(t,e){t.appendChild(e)}function S(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function le(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function z(t){return document.createTextNode(t)}function A(){return z(" ")}function me(){return z("")}function B(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function We(t){return Array.from(t.childNodes)}function R(t,e){e=""+e,t.data!==e&&(t.data=e)}function ve(t,e){t.value=e??""}function C(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let q;function Y(t){q=t}function Fe(){if(!q)throw new Error("Function called outside component initialization");return q}function oe(t){Fe().$$.on_mount.push(t)}const G=[],J=[];let K=[];const de=[],je=Promise.resolve();let pe=!1;function Ge(){pe||(pe=!0,je.then(He))}function _e(t){K.push(t)}function be(t){de.push(t)}const ae=new Set;let j=0;function He(){if(j!==0)return;const t=q;do{try{for(;j<G.length;){const e=G[j];j++,Y(e),Ke(e.$$)}}catch(e){throw G.length=0,j=0,e}for(Y(null),G.length=0,j=0;J.length;)J.pop()();for(let e=0;e<K.length;e+=1){const n=K[e];ae.has(n)||(ae.add(n),n())}K.length=0}while(G.length);for(;de.length;)de.pop()();pe=!1,ae.clear(),Y(t)}function Ke(t){if(t.fragment!==null){t.update(),x(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}function Ue(t){const e=[],n=[];K.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),K=e}const re=new Set;let W;function Ve(){W={r:0,c:[],p:W}}function Ye(){W.r||x(W.c),W=W.p}function F(t,e){t&&t.i&&(re.delete(t),t.i(e))}function U(t,e,n,i){if(t&&t.o){if(re.has(t))return;re.add(t),W.c.push(()=>{re.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ye(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function se(t){t&&t.c()}function Z(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),_e(()=>{const r=t.$$.on_mount.map(Be).filter(X);t.$$.on_destroy?t.$$.on_destroy.push(...r):x(r),t.$$.on_mount=[]}),l.forEach(_e)}function ee(t,e){const n=t.$$;n.fragment!==null&&(Ue(n.after_update),x(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(t,e){t.$$.dirty[0]===-1&&(G.push(t),Ge(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,i,l,r,o=null,p=[-1]){const v=q;Y(t);const _=t.$$={fragment:null,ctx:[],props:r,update:H,not_equal:l,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:we(),dirty:p,skip_bound:!1,root:e.target||v.$$.root};o&&o(_.root);let d=!1;if(_.ctx=n?n(t,e.props||{},(f,b,...k)=>{const u=k.length?k[0]:b;return _.ctx&&l(_.ctx[f],_.ctx[f]=u)&&(!_.skip_bound&&_.bound[f]&&_.bound[f](u),d&&qe(t,f)),b}):[],_.update(),d=!0,x(_.before_update),_.fragment=i?i(_.ctx):!1,e.target){if(e.hydrate){const f=We(e.target);_.fragment&&_.fragment.l(f),f.forEach(D)}else _.fragment&&_.fragment.c();e.intro&&F(t.$$.fragment),Z(t,e.target,e.anchor),He()}Y(v)}class ne{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){ee(this,1),this.$destroy=H}$on(e,n){if(!X(n))return H;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Je="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Je);function Xe(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function ke(t,e=!1){const n=Xe(),i=`_${n}`;return Object.defineProperty(window,i,{value:l=>(e&&Reflect.deleteProperty(window,i),t==null?void 0:t(l)),writable:!1,configurable:!0}),n}async function M(t,e={}){return new Promise((n,i)=>{const l=ke(o=>{n(o),Reflect.deleteProperty(window,`_${r}`)},!0),r=ke(o=>{i(o),Reflect.deleteProperty(window,`_${l}`)},!0);window.__TAURI_IPC__({cmd:t,callback:l,error:r,...e})})}function $e(t){let e,n,i,l,r,o=t[1].ssid+"",p,v,_,d,f,b,k,u,E,P=t[3]!=0&&Pe();return{c(){e=w("div"),n=w("div"),i=w("div"),l=z("Enter password for "),r=w("span"),p=z(o),v=A(),_=w("form"),d=w("input"),f=A(),b=w("button"),b.textContent="Connect",k=A(),P&&P.c(),C(r,"font-weight","bold"),a(n,"id","prompt-container"),a(n,"class","svelte-3897ka"),a(e,"id","mask"),a(e,"class","svelte-3897ka")},m(c,g){S(c,e,g),s(e,n),s(n,i),s(i,l),s(i,r),s(r,p),s(n,v),s(n,_),s(_,d),ve(d,t[2]),s(_,f),s(_,b),s(n,k),P&&P.m(n,null),u||(E=[B(d,"input",t[6]),B(_,"submit",t[4]),B(n,"click",Ze),B(e,"click",t[7])],u=!0)},p(c,g){g&2&&o!==(o=c[1].ssid+"")&&R(p,o),g&4&&d.value!==c[2]&&ve(d,c[2]),c[3]!=0?P||(P=Pe(),P.c(),P.m(n,null)):P&&(P.d(1),P=null)},d(c){c&&D(e),P&&P.d(),u=!1,x(E)}}}function Pe(t){let e;return{c(){e=w("p"),e.textContent="Invalid credentials provided"},m(n,i){S(n,e,i)},d(n){n&&D(e)}}}function Qe(t){let e,n=!t[0]&&$e(t);return{c(){n&&n.c(),e=me()},m(i,l){n&&n.m(i,l),S(i,e,l)},p(i,[l]){i[0]?n&&(n.d(1),n=null):n?n.p(i,l):(n=$e(i),n.c(),n.m(e.parentNode,e))},i:H,o:H,d(i){i&&D(e),n&&n.d(i)}}}const Ze=t=>{t.stopPropagation()};function et(t,e,n){let{hidden:i=!1}=e,{network:l={}}=e,{refreshHandler:r=()=>{}}=e,o="",p=0;async function v(f){if(f.preventDefault(),n(3,p=await M("connect_network_password",{network:l,password:o})),p==0){n(2,o=""),n(1,l={}),n(0,i=!0),r();return}}function _(){o=this.value,n(2,o)}const d=()=>{n(0,i=!0)};return t.$$set=f=>{"hidden"in f&&n(0,i=f.hidden),"network"in f&&n(1,l=f.network),"refreshHandler"in f&&n(5,r=f.refreshHandler)},[i,l,o,p,v,r,_,d]}class tt extends ne{constructor(e){super(),te(this,e,et,Qe,Q,{hidden:0,network:1,refreshHandler:5})}}function Ee(t,e,n){const i=t.slice();return i[10]=e[n],i}function nt(t){let e,n,i;return{c(){e=w("button"),e.textContent="Enable",C(e,"background-color","var(--color-03)"),C(e,"color","var(--color-01)")},m(l,r){S(l,e,r),n||(i=B(e,"click",t[6]),n=!0)},p:H,d(l){l&&D(e),n=!1,i()}}}function it(t){let e,n,i;return{c(){e=w("button"),e.textContent="Disable",C(e,"background-color","var(--color-02)")},m(l,r){S(l,e,r),n||(i=B(e,"click",t[7]),n=!0)},p:H,d(l){l&&D(e),n=!1,i()}}}function lt(t){let e,n=V(t[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ae(Ee(t,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=me()},m(l,r){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(l,r);S(l,e,r)},p(l,r){if(r&34){n=V(l[1]);let o;for(o=0;o<n.length;o+=1){const p=Ee(l,n,o);i[o]?i[o].p(p,r):(i[o]=Ae(p),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(l){l&&D(e),he(i,l)}}}function rt(t){let e;return{c(){e=w("p"),e.textContent="Retrieving network information..."},m(n,i){S(n,e,i)},p:H,d(n){n&&D(e)}}}function Ce(t){let e,n,i=t[10].ssid+"",l,r,o,p,v,_=t[10].bssid+"",d,f,b,k,u;function E(y,m){return y[10].chan>=1&&y[10].chan<=14?st:ot}let P=E(t),c=P(t);function g(y,m){return y[10].signal>75?ut:y[10].signal>50?ft:ct}let h=g(t),$=h(t);return{c(){e=w("div"),n=w("p"),l=z(i),r=A(),c.c(),o=A(),$.c(),p=A(),v=w("p"),d=z(_),f=A(),a(n,"class","network-ssid svelte-1mbl1uc"),a(v,"class","network-bssid svelte-1mbl1uc"),a(e,"class",b="network-item "+(t[10].connected?"network-active":"")+" svelte-1mbl1uc")},m(y,m){S(y,e,m),s(e,n),s(n,l),s(e,r),c.m(e,null),s(e,o),$.m(e,null),s(e,p),s(e,v),s(v,d),s(e,f),k||(u=B(e,"click",function(){X(t[5](t[10]))&&t[5](t[10]).apply(this,arguments)}),k=!0)},p(y,m){t=y,m&2&&i!==(i=t[10].ssid+"")&&R(l,i),P!==(P=E(t))&&(c.d(1),c=P(t),c&&(c.c(),c.m(e,o))),h===(h=g(t))&&$?$.p(t,m):($.d(1),$=h(t),$&&($.c(),$.m(e,p))),m&2&&_!==(_=t[10].bssid+"")&&R(d,_),m&2&&b!==(b="network-item "+(t[10].connected?"network-active":"")+" svelte-1mbl1uc")&&a(e,"class",b)},d(y){y&&D(e),c.d(),$.d(),k=!1,u()}}}function ot(t){let e;return{c(){e=w("p"),e.textContent="5.0Ghz",a(e,"class","network-chan svelte-1mbl1uc")},m(n,i){S(n,e,i)},d(n){n&&D(e)}}}function st(t){let e;return{c(){e=w("p"),e.textContent="2.4GHz",a(e,"class","network-chan svelte-1mbl1uc")},m(n,i){S(n,e,i)},d(n){n&&D(e)}}}function ct(t){let e,n=t[10].signal+"",i;return{c(){e=w("p"),i=z(n),a(e,"class","network-signal svelte-1mbl1uc"),C(e,"color","var(--color-02)")},m(l,r){S(l,e,r),s(e,i)},p(l,r){r&2&&n!==(n=l[10].signal+"")&&R(i,n)},d(l){l&&D(e)}}}function ft(t){let e,n=t[10].signal+"",i;return{c(){e=w("p"),i=z(n),a(e,"class","network-signal svelte-1mbl1uc"),C(e,"color","var(--color-04)")},m(l,r){S(l,e,r),s(e,i)},p(l,r){r&2&&n!==(n=l[10].signal+"")&&R(i,n)},d(l){l&&D(e)}}}function ut(t){let e,n=t[10].signal+"",i;return{c(){e=w("p"),i=z(n),a(e,"class","network-signal svelte-1mbl1uc"),C(e,"color","var(--color-03)")},m(l,r){S(l,e,r),s(e,i)},p(l,r){r&2&&n!==(n=l[10].signal+"")&&R(i,n)},d(l){l&&D(e)}}}function Ae(t){let e,n=t[10].ssid!="--"&&Ce(t);return{c(){n&&n.c(),e=me()},m(i,l){n&&n.m(i,l),S(i,e,l)},p(i,l){i[10].ssid!="--"?n?n.p(i,l):(n=Ce(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&D(e),n&&n.d(i)}}}function at(t){let e,n,i,l,r,o,p,v,_,d,f,b,k,u,E,P,c,g,h,$,y;function m(N,I){return N[0]?it:nt}let L=m(t),O=L(t);function ze(N){t[8](N)}function Me(N){t[9](N)}let ce={refreshHandler:t[4]};t[2]!==void 0&&(ce.hidden=t[2]),t[3]!==void 0&&(ce.network=t[3]),d=new tt({props:ce}),J.push(()=>ye(d,"hidden",ze)),J.push(()=>ye(d,"network",Me));function ge(N,I){return N[1].length==0?rt:lt}let ie=ge(t),T=ie(t);return{c(){e=w("div"),n=w("div"),i=w("div"),i.innerHTML="<div>Wi-Fi</div>",l=A(),r=w("div"),o=A(),p=w("button"),p.textContent="Refresh",v=A(),O.c(),_=A(),se(d.$$.fragment),k=A(),u=w("hr"),E=A(),P=w("div"),P.innerHTML='<div class="network-item svelte-1mbl1uc"><p class="network-ssid svelte-1mbl1uc">SSID</p> <p class="network-chan svelte-1mbl1uc">Frequency</p> <p class="network-signal svelte-1mbl1uc">Signal</p> <p class="network-bssid svelte-1mbl1uc">BSSID</p></div>',c=A(),g=w("div"),T.c(),C(i,"display","flex"),C(i,"align-items","center"),C(i,"font-weight","bold"),C(i,"font-size","1.5rem"),C(r,"flex-grow","1"),C(p,"background-color","var(--color-08)"),C(p,"color","var(--color-01)"),a(n,"id","wifi-header"),a(n,"class","svelte-1mbl1uc"),a(g,"class","network-list"),a(e,"id","network-page"),a(e,"class","svelte-1mbl1uc")},m(N,I){S(N,e,I),s(e,n),s(n,i),s(n,l),s(n,r),s(n,o),s(n,p),s(n,v),O.m(n,null),s(e,_),Z(d,e,null),s(e,k),s(e,u),s(e,E),s(e,P),s(e,c),s(e,g),T.m(g,null),h=!0,$||(y=B(p,"click",t[4]),$=!0)},p(N,[I]){L===(L=m(N))&&O?O.p(N,I):(O.d(1),O=L(N),O&&(O.c(),O.m(n,null)));const fe={};!f&&I&4&&(f=!0,fe.hidden=N[2],be(()=>f=!1)),!b&&I&8&&(b=!0,fe.network=N[3],be(()=>b=!1)),d.$set(fe),ie===(ie=ge(N))&&T?T.p(N,I):(T.d(1),T=ie(N),T&&(T.c(),T.m(g,null)))},i(N){h||(F(d.$$.fragment,N),h=!0)},o(N){U(d.$$.fragment,N),h=!1},d(N){N&&D(e),O.d(),ee(d),T.d(),$=!1,y()}}}function dt(t,e,n){let i=!1,l=[],r=!0,o={};async function p(){if(console.log("Getting networks..."),n(0,i=await M("is_wifi_on",{})),!i){n(1,l=[]);return}n(1,l=[]),n(1,l=await M("get_networks",{}))}async function v(k){const u=k.ssid;await M("is_existing_connection",{ssid:u})?(await M("connect_network",{network:k}),p()):(console.log("NEED TO PROVIDE PASSWORD"),n(2,r=!1),n(3,o=k))}async function _(){await M("enable_wifi",{}),p()}async function d(){await M("disable_wifi",{}),p()}oe(()=>{p()});function f(k){r=k,n(2,r)}function b(k){o=k,n(3,o)}return[i,l,r,o,p,v,_,d,f,b]}class pt extends ne{constructor(e){super(),te(this,e,dt,at,Q,{})}}function Oe(t,e,n){const i=t.slice();return i[3]=e[n],i}function Ne(t){let e,n,i=t[3].name+"",l,r,o,p=t[3].driver+"",v,_,d,f,b;return{c(){e=w("div"),n=w("div"),l=z(i),r=A(),o=w("div"),v=z(p),_=A(),a(n,"class","power-profile-name svelte-mpwc80"),a(o,"class","power-profile-driver svelte-mpwc80"),a(e,"class",d="power-profile "+(t[3].is_active?"power-profile-active":"h")+" svelte-mpwc80")},m(k,u){S(k,e,u),s(e,n),s(n,l),s(e,r),s(e,o),s(o,v),s(e,_),f||(b=B(e,"click",function(){X(t[1](t[3]))&&t[1](t[3]).apply(this,arguments)}),f=!0)},p(k,u){t=k,u&1&&i!==(i=t[3].name+"")&&R(l,i),u&1&&p!==(p=t[3].driver+"")&&R(v,p),u&1&&d!==(d="power-profile "+(t[3].is_active?"power-profile-active":"h")+" svelte-mpwc80")&&a(e,"class",d)},d(k){k&&D(e),f=!1,b()}}}function _t(t){let e,n,i,l,r,o,p,v,_,d=V(t[0]),f=[];for(let b=0;b<d.length;b+=1)f[b]=Ne(Oe(t,d,b));return{c(){e=w("div"),n=w("div"),n.innerHTML="<div>Power Profile</div>",i=A(),l=w("hr"),r=A(),o=w("div"),o.innerHTML='<div class="power-profile-name svelte-mpwc80">Profile Name</div> <div class="power-profile-driver svelte-mpwc80">Driver</div>',p=A(),v=w("hr"),_=A();for(let b=0;b<f.length;b+=1)f[b].c();C(n,"display","flex"),C(n,"align-items","center"),C(n,"font-weight","bold"),C(n,"font-size","1.5rem"),a(o,"class","power-profile svelte-mpwc80"),a(e,"id","container"),a(e,"class","svelte-mpwc80")},m(b,k){S(b,e,k),s(e,n),s(e,i),s(e,l),s(e,r),s(e,o),s(e,p),s(e,v),s(e,_);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(e,null)},p(b,[k]){if(k&3){d=V(b[0]);let u;for(u=0;u<d.length;u+=1){const E=Oe(b,d,u);f[u]?f[u].p(E,k):(f[u]=Ne(E),f[u].c(),f[u].m(e,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=d.length}},i:H,o:H,d(b){b&&D(e),he(f,b)}}}function ht(t,e,n){let i=[];async function l(){n(0,i=await M("get_power_profiles",{})),console.log(i)}async function r(o){await M("set_power_profile",{profile:o}),l()}return oe(()=>{l()}),[i,r]}class mt extends ne{constructor(e){super(),te(this,e,ht,_t,Q,{})}}function De(t,e,n){const i=t.slice();return i[15]=e[n],i[17]=n,i}function Se(t){let e,n,i,l,r,o,p,v,_,d,f=t[15].display_name+"",b,k,u,E,P;function c(){return t[6](t[17])}return{c(){e=le("g"),n=le("rect"),d=le("text"),b=z(f),a(n,"x",i=t[15].x),a(n,"y",l=t[15].y),a(n,"width",r=t[15].sizes[t[15].selected_size].width),a(n,"height",o=t[15].sizes[t[15].selected_size].height),a(n,"fill",p=t[15].is_primary?"var(--color-07)":"var(--color-08)"),a(n,"stroke","black"),a(n,"stroke-width","10"),a(n,"data-name",v=t[15].display_name),a(n,"data-isprimary",_=t[15].is_primary),a(d,"x",k=t[15].x+50),a(d,"y",u=t[15].y+200),a(d,"font-size","200px"),C(e,"cursor","move"),C(e,"pointer-events","bounding-box"),a(e,"data-index",t[17])},m(g,h){S(g,e,h),s(e,n),s(e,d),s(d,b),E||(P=[B(n,"click",c),Ie(t[4].call(null,e,t[4]))],E=!0)},p(g,h){t=g,h&1&&i!==(i=t[15].x)&&a(n,"x",i),h&1&&l!==(l=t[15].y)&&a(n,"y",l),h&1&&r!==(r=t[15].sizes[t[15].selected_size].width)&&a(n,"width",r),h&1&&o!==(o=t[15].sizes[t[15].selected_size].height)&&a(n,"height",o),h&1&&p!==(p=t[15].is_primary?"var(--color-07)":"var(--color-08)")&&a(n,"fill",p),h&1&&v!==(v=t[15].display_name)&&a(n,"data-name",v),h&1&&_!==(_=t[15].is_primary)&&a(n,"data-isprimary",_),h&1&&f!==(f=t[15].display_name+"")&&R(b,f),h&1&&k!==(k=t[15].x+50)&&a(d,"x",k),h&1&&u!==(u=t[15].y+200)&&a(d,"y",u)},d(g){g&&D(e),E=!1,x(P)}}}function Le(t){let e,n=JSON.stringify(t[0][t[1]])+"",i;return{c(){e=w("div"),i=z(n)},m(l,r){S(l,e,r),s(e,i)},p(l,r){r&3&&n!==(n=JSON.stringify(l[0][l[1]])+"")&&R(i,n)},d(l){l&&D(e)}}}function gt(t){let e,n,i,l,r,o,p,v,_,d,f,b,k,u,E,P=V(t[0]),c=[];for(let h=0;h<P.length;h+=1)c[h]=Se(De(t,P,h));let g=t[1]!=null&&Le(t);return{c(){e=w("div"),n=w("div"),i=le("svg");for(let h=0;h<c.length;h+=1)c[h].c();l=A(),r=w("div"),o=w("div"),p=A(),v=w("button"),v.textContent="TEST",_=A(),d=w("button"),d.textContent="Apply",f=A(),b=w("button"),b.textContent="Save",k=A(),g&&g.c(),a(i,"id","svg-window"),a(i,"viewBox","-2000 -2000 6000 6000"),C(i,"width","100%"),C(i,"height","100%"),a(i,"class","svelte-1cpktfg"),a(n,"id","svg-container"),a(n,"class","svelte-1cpktfg"),C(o,"flex-grow","1"),a(r,"id","controls"),C(r,"display","flex"),a(r,"class","svelte-1cpktfg"),a(e,"class","setting-page")},m(h,$){S(h,e,$),s(e,n),s(n,i);for(let y=0;y<c.length;y+=1)c[y]&&c[y].m(i,null);t[7](i),s(e,l),s(e,r),s(r,o),s(r,p),s(r,v),s(r,_),s(r,d),s(r,f),s(r,b),s(e,k),g&&g.m(e,null),u||(E=[B(v,"click",t[3]),B(d,"click",t[5]),B(b,"click",wt)],u=!0)},p(h,[$]){if($&19){P=V(h[0]);let y;for(y=0;y<P.length;y+=1){const m=De(h,P,y);c[y]?c[y].p(m,$):(c[y]=Se(m),c[y].c(),c[y].m(i,null))}for(;y<c.length;y+=1)c[y].d(1);c.length=P.length}h[1]!=null?g?g.p(h,$):(g=Le(h),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i:H,o:H,d(h){h&&D(e),he(c,h),t[7](null),g&&g.d(),u=!1,x(E)}}}function wt(){console.log("TODO")}function vt(t,e,n){let i=[],l=null;const r=c=>new Promise(g=>setTimeout(g,c));async function o(){const c=await M("get_display_configuration",{});console.log(c),n(0,i=[]),await r(500),n(0,i=c);for(const[g,h]of Object.entries(c))h.is_primary}let p,v=null;function _(c){console.log(c),c.addEventListener("mousedown",f),c.addEventListener("mousemove",b),c.addEventListener("mouseup",k),c.addEventListener("mouseleave",k)}function d(c){var g=p.getScreenCTM();return{x:(c.clientX-g.e)/g.a,y:(c.clientY-g.f)/g.d}}function f(c){i[c.target.parentNode.dataset.index].is_primary||(console.log(c),v=c.target.parentNode)}function b(c){if(!v)return;const g=d(c),h=v.children[0].getBBox(),$=g.x-h.width/2,y=g.y-h.height/2;v.children[0].setAttribute("x",$),v.children[0].setAttribute("y",y+0),v.children[1].setAttribute("x",$+50),v.children[1].setAttribute("y",y+200)}function k(c){console.log("stopDrag handler");let g=null;for(const h of p.children){const $=h.children[0];if($.dataset.isprimary){g=$;break}}for(const h of p.children){const $=h.children[0],y=h.children[1];if($.dataset.isprimary==="true")continue;const m=g.getBBox(),L=$.getBBox();console.log($.getBBox(),g.getBBox());const O={x:L.width/2+L.x,y:L.height/2+L.y,width:L.width,height:L.height};O.x<m.x?($.setAttribute("x",m.x-O.width),y.setAttribute("x",m.x-O.width+50)):O.x>=m.x&&L.x<m.x+m.width?($.setAttribute("x",m.x),y.setAttribute("x",m.x+50)):O.x>=m.x+m.width&&($.setAttribute("x",m.x+m.width),y.setAttribute("x",m.x+O.width+50)),O.y<m.y?($.setAttribute("y",m.y-O.height),y.setAttribute("y",m.y-O.height+200)):O.y>=m.y&&L.y<m.y+m.height?($.setAttribute("y",m.y),y.setAttribute("y",m.y+200)):O.y>=m.y+m.height&&($.setAttribute("y",m.y+m.height),y.setAttribute("y",m.y+m.height+200))}v=null}async function u(){const c=[];for(const g of p.children){const h=g.children[0],$=h.dataset.name,y=h.getBBox();console.log(h.getBBox(),h.dataset.name),c.push({name:$,x:Math.round(y.x),y:Math.round(y.y),width:y.width,height:y.height})}console.log(c),await M("set_display_configuration",{config:{screens:c}}),o()}oe(()=>{o()});const E=c=>{n(1,l=c),console.log(c)};function P(c){J[c?"unshift":"push"](()=>{p=c,n(2,p)})}return[i,l,p,o,_,u,E,P]}class bt extends ne{constructor(e){super(),te(this,e,vt,gt,Q,{})}}function yt(t){let e,n;return e=new bt({}),{c(){se(e.$$.fragment)},m(i,l){Z(e,i,l),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function kt(t){let e,n;return e=new mt({}),{c(){se(e.$$.fragment)},m(i,l){Z(e,i,l),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function $t(t){let e,n;return e=new pt({}),{c(){se(e.$$.fragment)},m(i,l){Z(e,i,l),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Pt(t){let e;return{c(){e=w("div"),e.innerHTML=`<div style="font-size: 3rem; font-weight: bold;">Welcome to Forestry</div> <div style="font-size: 2rem; padding: 2rem; line-height: 3rem;">Forestry is a general settings manager for Linux targeting users who do no use complete desktop environments such as KDE or Gnome. 
					<br/> <br/>
  	  				Forestry uses the same color scheming convention as terminal color schemes (see Gogh on GitHub), which makes it easy to match the theme of Forestry to your terminal configuration.</div>`,C(e,"display","flex"),C(e,"justify-content","center"),C(e,"align-items","center"),C(e,"height","100%"),C(e,"flex-direction","column")},m(n,i){S(n,e,i)},i:H,o:H,d(n){n&&D(e)}}}function Et(t){let e,n,i,l,r,o,p,v,_,d,f,b,k,u,E,P,c,g;const h=[Pt,$t,kt,yt],$=[];function y(m,L){return m[0]=="HOME"?0:m[0]=="NETWORK"?1:m[0]=="POWER"?2:m[0]=="DISPLAY"?3:-1}return~(u=y(t))&&(E=$[u]=h[u](t)),{c(){e=w("main"),n=w("div"),i=w("h1"),i.textContent="Forestry",l=A(),r=w("button"),r.textContent="Home",o=A(),p=w("button"),p.textContent="Network",v=A(),_=w("button"),_.textContent="Power",d=A(),f=w("button"),f.textContent="Display",b=A(),k=w("div"),E&&E.c(),C(i,"padding","1rem"),C(i,"border-bottom","1px solid var(--color-08)"),C(i,"margin","0"),C(i,"padding","2rem 1rem"),C(i,"background-color","var(--color-01)"),a(r,"class","page-button svelte-1wdwhcr"),a(p,"class","page-button svelte-1wdwhcr"),a(_,"class","page-button svelte-1wdwhcr"),a(f,"class","page-button svelte-1wdwhcr"),a(n,"id","navpanel"),a(n,"class","svelte-1wdwhcr"),C(k,"flex-grow","1"),a(e,"class","container svelte-1wdwhcr")},m(m,L){S(m,e,L),s(e,n),s(n,i),s(n,l),s(n,r),s(n,o),s(n,p),s(n,v),s(n,_),s(n,d),s(n,f),s(e,b),s(e,k),~u&&$[u].m(k,null),P=!0,c||(g=[B(r,"click",t[1]),B(p,"click",t[2]),B(_,"click",t[3]),B(f,"click",t[4])],c=!0)},p(m,[L]){let O=u;u=y(m),u!==O&&(E&&(Ve(),U($[O],1,1,()=>{$[O]=null}),Ye()),~u?(E=$[u],E||(E=$[u]=h[u](m),E.c()),F(E,1),E.m(k,null)):E=null)},i(m){P||(F(E),P=!0)},o(m){U(E),P=!1},d(m){m&&D(e),~u&&$[u].d(),c=!1,x(g)}}}function Ct(t,e,n){oe(async()=>{const v=await M("default_colors",{});for(const[_,d]of Object.entries(v))console.log(_.replace("_","-"),d),document.documentElement.style.setProperty("--"+_.replace("_","-"),d);console.log(v)});let i="HOME";return[i,()=>{n(0,i="HOME")},()=>{n(0,i="NETWORK")},()=>{n(0,i="POWER")},()=>{n(0,i="DISPLAY")}]}class At extends ne{constructor(e){super(),te(this,e,Ct,Et,Q,{})}}new At({target:document.getElementById("app")});
